// script.js
// \u0647\u0630\u0627 \u0627\u0644\u0645\u0644\u0641 \u064a\u0646\u0634\u0626 \u062c\u062f\u0648\u0644\u0627\u064b \u062a\u0641\u0627\u0639\u0644\u064a\u0627\u064b \u0644\u0644\u062d\u062c\u0632 \u0648\u064a\u0636\u064a\u0641 \u0645\u0646\u0637\u0642 \u0628\u0633\u064a\u0637 \u0644\u0644\u062a\u0639\u0627\u0645\u0644 \u0645\u0639 \u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062e\u0627\u0646\u0627\u062a.


document.addEventListener('DOMContentLoaded', function () {
    // \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u062d\u062c\u0632: \u0645\u0646 \u0627\u0644\u062a\u0627\u0633\u0639\u0629 \u0635\u0628\u0627\u062d\u0627\u064b \u062d\u062a\u0649 \u0627\u0644\u062e\u0627\u0645\u0633\u0629 \u0645\u0633\u0627\u0621\u064b
    const startHour = 9;
    const endHour = 17;

    // \u062a\u0631\u062a\u064a\u0628 \u0623\u064a\u0627\u0645 \u0627\u0644\u0623\u0633\u0628\u0648\u0639 (\u0645\u0646 \u0627\u0644\u064a\u0645\u064a\u0646 \u0625\u0644\u0649 \u0627\u0644\u064a\u0633\u0627\u0631)
    const dayHeaders = ['\u0627\u0644\u062e\u0645\u064a\u0633', '\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621', '\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621', '\u0627\u0644\u0625\u062b\u0646\u064a\u0646', '\u0627\u0644\u0623\u062d\u062f'];

    // \u0639\u0646\u0635\u0631 \u062c\u0633\u0645 \u0627\u0644\u062c\u062f\u0648\u0644 \u062d\u064a\u062b \u0633\u0646\u0636\u064a\u0641 \u0627\u0644\u0635\u0641\u0648\u0641
    const tbody = document.getElementById('calendar-body');

    /**
     * \u062f\u0627\u0644\u0629 \u0645\u0633\u0627\u0639\u062f\u0629 \u0644\u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u0623\u0631\u0642\u0627\u0645 \u0628\u0628\u0627\u062f\u0626\u0629 \u0635\u0641\u0631 \u0639\u0646\u062f \u0627\u0644\u062d\u0627\u062c\u0629
     * @param {number} h \u0631\u0642\u0645 \u0627\u0644\u0633\u0627\u0639\u0629
     * @returns {string} \u062a\u0645\u062b\u064a\u0644 \u0646\u0635\u064a \u0645\u0639 \u0635\u0641\u0631 \u0628\u0627\u062f\u0626 \u0639\u0646\u062f \u0627\u0644\u062d\u0627\u062c\u0629
     */
    function formatHour(h) {
        return h < 10 ? '0' + h : String(h);
    }

    // \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0635\u0641\u0648\u0641 \u0644\u0643\u0644 \u0633\u0627\u0639\u0629
    for (let hour = startHour; hour < endHour; hour++) {
        const row = document.createElement('tr');

        // \u0627\u0644\u062e\u0627\u0646\u0629 \u0627\u0644\u0623\u0648\u0644\u0649 \u0644\u0639\u0631\u0636 \u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629
        const timeCell = document.createElement('td');
        const nextHour = hour + 1;
        timeCell.textContent = `${formatHour(hour)}:00 - ${formatHour(nextHour)}:00`;
        row.appendChild(timeCell);

        // \u0625\u0646\u0634\u0627\u0621 \u062e\u0627\u0646\u0627\u062a \u0644\u0643\u0644 \u064a\u0648\u0645
        for (let i = 0; i < dayHeaders.length; i++) {
            const cell = document.createElement('td');
            cell.classList.add('available');

            // \u062a\u062e\u0632\u064a\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u064a\u0648\u0645 \u0648\u0627\u0644\u0648\u0642\u062a \u0641\u064a \u062e\u0635\u0627\u0626\u0635 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a (\u0642\u062f \u062a\u064f\u0633\u062a\u0639\u0645\u0644 \u0644\u0627\u062d\u0642\u0627ً)
            cell.dataset.day = dayHeaders[i];
            cell.dataset.time = `${formatHour(hour)}:00`;

            // \u0639\u0646\u062f \u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062e\u0627\u0646\u0629، \u0625\u0630\u0627 \u0644\u0645 \u062a\u0643\u0646 \u0645\u062d\u062c\u0648\u0632\u0629، \u062a\u0635\u0628\u062d \u0645\u062d\u062c\u0648\u0632\u0629
            cell.addEventListener('click', function () {
                if (this.classList.contains('booked')) return;
                this.classList.remove('available');
                this.classList.add('booked');
                this.textContent = '\u0645\u062d\u062c\u0648\u0632';
            });

            row.appendChild(cell);
        }

        tbody.appendChild(row);
    }
});
